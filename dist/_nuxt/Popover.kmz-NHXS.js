import{ar as we,g as z,E as k,k as C,as as Z,at as o,au as X,av as D,M as de,aw as $e,ax as K,ay as ke,az as Ce,aA as _,aB as Ee,aC as Oe,aD as Be,aE as Te,J as F,aF as x,F as ee,aG as j,aq as te,aH as ce,aI as Fe,aJ as fe,aK as V,aL as W,aM as M,aN as B,aO as Ie,aP as le,B as ae,aQ as I,aR as T,aS as Y,_ as Me,O as De,Q as ne,R as Ne,U as re,an as Ae,aT as He,a7 as ue,ad as q,o as N,i as se,w as A,$ as H,a as ie,q as pe,b as U,T as ve,K as J,c as Q,n as G,ai as je}from"./entry._RxJvKfp.js";const Le={wrapper:"relative",container:"z-50 group",trigger:"inline-flex w-full",width:"",background:"bg-white dark:bg-gray-900",shadow:"shadow-lg",rounded:"rounded-md",ring:"ring-1 ring-gray-200 dark:ring-gray-800",base:"overflow-hidden focus:outline-none relative",transition:{enterActiveClass:"transition ease-out duration-200",enterFromClass:"opacity-0 translate-y-1",enterToClass:"opacity-100 translate-y-0",leaveActiveClass:"transition ease-in duration-150",leaveFromClass:"opacity-100 translate-y-0",leaveToClass:"opacity-0 translate-y-1"},overlay:{base:"fixed inset-0 transition-opacity z-50",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enterActiveClass:"ease-out duration-200",enterFromClass:"opacity-0",enterToClass:"opacity-100",leaveActiveClass:"ease-in duration-150",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"}},popper:{strategy:"fixed"},arrow:we};var Re=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Re||{});let ge=Symbol("PopoverContext");function oe(e){let S=ae(ge,null);if(S===null){let h=new Error(`<${e} /> is missing a parent <${me.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(h,oe),h}return S}let Ge=Symbol("PopoverGroupContext");function be(){return ae(Ge,null)}let ye=Symbol("PopoverPanelContext");function Ke(){return ae(ye,null)}let me=z({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:S,attrs:h,expose:E}){var a;let t=k(null);E({el:t,$el:t});let y=k(1),g=k(null),c=k(null),f=k(null),i=k(null),w=C(()=>Z(t)),O=C(()=>{var n,u;if(!o(g)||!o(i))return!1;for(let R of document.querySelectorAll("body > *"))if(Number(R==null?void 0:R.contains(o(g)))^Number(R==null?void 0:R.contains(o(i))))return!0;let d=X(),$=d.indexOf(o(g)),L=($+d.length-1)%d.length,Pe=($+1)%d.length,Se=d[L],he=d[Pe];return!((n=o(i))!=null&&n.contains(Se))&&!((u=o(i))!=null&&u.contains(he))}),m={popoverState:y,buttonId:k(null),panelId:k(null),panel:i,button:g,isPortalled:O,beforePanelSentinel:c,afterPanelSentinel:f,togglePopover(){y.value=D(y.value,{0:1,1:0})},closePopover(){y.value!==1&&(y.value=1)},close(n){m.closePopover();let u=n?n instanceof HTMLElement?n:n.value instanceof HTMLElement?o(n):o(m.button):o(m.button);u==null||u.focus()}};de(ge,m),$e(C(()=>D(y.value,{0:K.Open,1:K.Closed})));let P={buttonId:m.buttonId,panelId:m.panelId,close(){m.closePopover()}},p=be(),r=p==null?void 0:p.registerPopover,[v,s]=ke(),l=Ce({mainTreeNodeRef:p==null?void 0:p.mainTreeNodeRef,portals:v,defaultContainers:[g,i]});function b(){var n,u,d,$;return($=p==null?void 0:p.isFocusWithinPopoverGroup())!=null?$:((n=w.value)==null?void 0:n.activeElement)&&(((u=o(g))==null?void 0:u.contains(w.value.activeElement))||((d=o(i))==null?void 0:d.contains(w.value.activeElement)))}return _(()=>r==null?void 0:r(P)),Ee((a=w.value)==null?void 0:a.defaultView,"focus",n=>{var u,d;n.target!==window&&n.target instanceof HTMLElement&&y.value===0&&(b()||g&&i&&(l.contains(n.target)||(u=o(m.beforePanelSentinel))!=null&&u.contains(n.target)||(d=o(m.afterPanelSentinel))!=null&&d.contains(n.target)||m.closePopover()))},!0),Oe(l.resolveContainers,(n,u)=>{var d;m.closePopover(),Be(u,Te.Loose)||(n.preventDefault(),(d=o(g))==null||d.focus())},C(()=>y.value===0)),()=>{let n={open:y.value===0,close:m.close};return F(ee,[F(s,{},()=>x({theirProps:{...e,...h},ourProps:{ref:t},slot:n,slots:S,attrs:h,name:"Popover"})),F(l.MainTreeNode)])}}}),ze=z({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-popover-button-${j()}`}},inheritAttrs:!1,setup(e,{attrs:S,slots:h,expose:E}){let a=oe("PopoverButton"),t=C(()=>Z(a.button));E({el:a.button,$el:a.button}),te(()=>{a.buttonId.value=e.id}),ce(()=>{a.buttonId.value=null});let y=be(),g=y==null?void 0:y.closeOthers,c=Ke(),f=C(()=>c===null?!1:c.value===a.panelId.value),i=k(null),w=`headlessui-focus-sentinel-${j()}`;f.value||_(()=>{a.button.value=o(i)});let O=Fe(C(()=>({as:e.as,type:S.type})),i);function m(l){var b,n,u,d,$;if(f.value){if(a.popoverState.value===1)return;switch(l.key){case I.Space:case I.Enter:l.preventDefault(),(n=(b=l.target).click)==null||n.call(b),a.closePopover(),(u=o(a.button))==null||u.focus();break}}else switch(l.key){case I.Space:case I.Enter:l.preventDefault(),l.stopPropagation(),a.popoverState.value===1&&(g==null||g(a.buttonId.value)),a.togglePopover();break;case I.Escape:if(a.popoverState.value!==0)return g==null?void 0:g(a.buttonId.value);if(!o(a.button)||(d=t.value)!=null&&d.activeElement&&!(($=o(a.button))!=null&&$.contains(t.value.activeElement)))return;l.preventDefault(),l.stopPropagation(),a.closePopover();break}}function P(l){f.value||l.key===I.Space&&l.preventDefault()}function p(l){var b,n;e.disabled||(f.value?(a.closePopover(),(b=o(a.button))==null||b.focus()):(l.preventDefault(),l.stopPropagation(),a.popoverState.value===1&&(g==null||g(a.buttonId.value)),a.togglePopover(),(n=o(a.button))==null||n.focus()))}function r(l){l.preventDefault(),l.stopPropagation()}let v=fe();function s(){let l=o(a.panel);if(!l)return;function b(){D(v.value,{[T.Forwards]:()=>M(l,B.First),[T.Backwards]:()=>M(l,B.Last)})===Y.Error&&M(X().filter(n=>n.dataset.headlessuiFocusGuard!=="true"),D(v.value,{[T.Forwards]:B.Next,[T.Backwards]:B.Previous}),{relativeTo:o(a.button)})}b()}return()=>{let l=a.popoverState.value===0,b={open:l},{id:n,...u}=e,d=f.value?{ref:i,type:O.value,onKeydown:m,onClick:p}:{ref:i,id:n,type:O.value,"aria-expanded":a.popoverState.value===0,"aria-controls":o(a.panel)?a.panelId.value:void 0,disabled:e.disabled?!0:void 0,onKeydown:m,onKeyup:P,onClick:p,onMousedown:r};return F(ee,[x({ourProps:d,theirProps:{...S,...u},slot:b,attrs:S,slots:h,name:"PopoverButton"}),l&&!f.value&&a.isPortalled.value&&F(V,{id:w,features:W.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:s})])}}}),qe=z({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-popover-panel-${j()}`}},inheritAttrs:!1,setup(e,{attrs:S,slots:h,expose:E}){let{focus:a}=e,t=oe("PopoverPanel"),y=C(()=>Z(t.panel)),g=`headlessui-focus-sentinel-before-${j()}`,c=`headlessui-focus-sentinel-after-${j()}`;E({el:t.panel,$el:t.panel}),te(()=>{t.panelId.value=e.id}),ce(()=>{t.panelId.value=null}),de(ye,t.panelId),_(()=>{var r,v;if(!a||t.popoverState.value!==0||!t.panel)return;let s=(r=y.value)==null?void 0:r.activeElement;(v=o(t.panel))!=null&&v.contains(s)||M(o(t.panel),B.First)});let f=Ie(),i=C(()=>f!==null?(f.value&K.Open)===K.Open:t.popoverState.value===0);function w(r){var v,s;switch(r.key){case I.Escape:if(t.popoverState.value!==0||!o(t.panel)||y.value&&!((v=o(t.panel))!=null&&v.contains(y.value.activeElement)))return;r.preventDefault(),r.stopPropagation(),t.closePopover(),(s=o(t.button))==null||s.focus();break}}function O(r){var v,s,l,b,n;let u=r.relatedTarget;u&&o(t.panel)&&((v=o(t.panel))!=null&&v.contains(u)||(t.closePopover(),((l=(s=o(t.beforePanelSentinel))==null?void 0:s.contains)!=null&&l.call(s,u)||(n=(b=o(t.afterPanelSentinel))==null?void 0:b.contains)!=null&&n.call(b,u))&&u.focus({preventScroll:!0})))}let m=fe();function P(){let r=o(t.panel);if(!r)return;function v(){D(m.value,{[T.Forwards]:()=>{var s;M(r,B.First)===Y.Error&&((s=o(t.afterPanelSentinel))==null||s.focus())},[T.Backwards]:()=>{var s;(s=o(t.button))==null||s.focus({preventScroll:!0})}})}v()}function p(){let r=o(t.panel);if(!r)return;function v(){D(m.value,{[T.Forwards]:()=>{let s=o(t.button),l=o(t.panel);if(!s)return;let b=X(),n=b.indexOf(s),u=b.slice(0,n+1),d=[...b.slice(n+1),...u];for(let $ of d.slice())if($.dataset.headlessuiFocusGuard==="true"||l!=null&&l.contains($)){let L=d.indexOf($);L!==-1&&d.splice(L,1)}M(d,B.First,{sorted:!1})},[T.Backwards]:()=>{var s;M(r,B.Previous)===Y.Error&&((s=o(t.button))==null||s.focus())}})}v()}return()=>{let r={open:t.popoverState.value===0,close:t.close},{id:v,focus:s,...l}=e,b={ref:t.panel,id:v,onKeydown:w,onFocusout:a&&t.popoverState.value===0?O:void 0,tabIndex:-1};return x({ourProps:b,theirProps:{...S,...l},attrs:S,slot:r,slots:{...h,default:(...n)=>{var u;return[F(ee,[i.value&&t.isPortalled.value&&F(V,{id:g,ref:t.beforePanelSentinel,features:W.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:P}),(u=h.default)==null?void 0:u.call(h,...n),i.value&&t.isPortalled.value&&F(V,{id:c,ref:t.afterPanelSentinel,features:W.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:p})])]}},features:le.RenderStrategy|le.Static,visible:i.value,name:"PopoverPanel"})}}});const Ue=De(ne.ui.strategy,ne.ui.popover,Le),Je=z({components:{HPopover:me,HPopoverButton:ze,HPopoverPanel:qe},inheritAttrs:!1,props:{mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},overlay:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e,{emit:S}){const{ui:h,attrs:E}=Ne("popover",re(e,"ui"),Ue,re(e,"class")),a=C(()=>Ae(e.mode==="hover"?{offsetDistance:0}:{},e.popper,h.value.popper)),[t,y]=He(a.value),g=k(null),c=k(null);let f=null,i=null;te(()=>{var r,v;const P=(r=g.value)==null?void 0:r.$.provides;if(!P)return;const p=Object.getOwnPropertySymbols(P);c.value=p.length&&P[p[0]],e.open&&((v=c.value)==null||v.togglePopover())});const w=C(()=>{var v,s,l;if(e.mode!=="hover")return{};const P=((v=e.popper)==null?void 0:v.offsetDistance)||((s=h.value.popper)==null?void 0:s.offsetDistance)||8,p=(l=a.value.placement)==null?void 0:l.split("-")[0],r=`${P}px`;return p==="top"||p==="bottom"?{paddingTop:r,paddingBottom:r}:p==="left"||p==="right"?{paddingLeft:r,paddingRight:r}:{paddingTop:r,paddingBottom:r,paddingLeft:r,paddingRight:r}});function O(){e.mode!=="hover"||!c.value||(i&&(clearTimeout(i),i=null),c.value.popoverState!==0&&(f=f||setTimeout(()=>{c.value.togglePopover&&c.value.togglePopover(),f=null},e.openDelay)))}function m(){e.mode!=="hover"||!c.value||(f&&(clearTimeout(f),f=null),c.value.popoverState!==1&&(i=i||setTimeout(()=>{c.value.closePopover&&c.value.closePopover(),i=null},e.closeDelay)))}return ue(()=>e.open,(P,p)=>{c.value&&(p===void 0||P===p||(P?c.value.popoverState=0:c.value.closePopover()))}),ue(()=>{var P;return(P=c.value)==null?void 0:P.popoverState},(P,p)=>{p===void 0||P===p||S("update:open",P===0)}),{ui:h,attrs:E,popover:g,popper:a,trigger:t,container:y,containerStyle:w,onMouseOver:O,onMouseLeave:m}}}),Qe=["disabled"];function Ve(e,S,h,E,a,t){const y=q("HPopoverButton"),g=q("HPopoverPanel"),c=q("HPopover");return N(),se(c,J({ref:"popover",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:A(({open:f,close:i})=>[U(y,{ref:"trigger",as:"div",disabled:e.disabled,class:H(e.ui.trigger),role:"button",onMouseover:e.onMouseOver},{default:A(()=>[pe(e.$slots,"default",{open:f,close:i},()=>[ie("button",{disabled:e.disabled}," Open ",8,Qe)])]),_:2},1032,["disabled","class","onMouseover"]),e.overlay?(N(),se(ve,J({key:0,appear:""},e.ui.overlay.transition),{default:A(()=>[f?(N(),Q("div",{key:0,class:H([e.ui.overlay.base,e.ui.overlay.background])},null,2)):G("",!0)]),_:2},1040)):G("",!0),f?(N(),Q("div",{key:1,ref:"container",class:H([e.ui.container,e.ui.width]),style:je(e.containerStyle),onMouseover:S[0]||(S[0]=(...w)=>e.onMouseOver&&e.onMouseOver(...w))},[U(ve,J({appear:""},e.ui.transition),{default:A(()=>[ie("div",null,[e.popper.arrow?(N(),Q("div",{key:0,"data-popper-arrow":"",class:H(Object.values(e.ui.arrow))},null,2)):G("",!0),U(g,{class:H([e.ui.base,e.ui.background,e.ui.ring,e.ui.rounded,e.ui.shadow]),static:""},{default:A(()=>[pe(e.$slots,"panel",{open:f,close:i})]),_:2},1032,["class"])])]),_:2},1040)],38)):G("",!0)]),_:3},16,["class","onMouseleave"])}const Ye=Me(Je,[["render",Ve]]);export{Ye as _};
