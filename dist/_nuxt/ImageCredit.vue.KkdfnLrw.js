import{y as x,A as b,k as p,g as C,j as t,o,c,b as k,w as d,d as s,F as i,t as a,n as r,a as u,i as v,a3 as w,e as I}from"./entry._RxJvKfp.js";import{_ as N}from"./Popover.kmz-NHXS.js";function B(){const{data:l}=x("imageCredits",()=>b("_image-credits").only(["body"]).findOne());return p(()=>{if(!l.value)return{};const m=Object.fromEntries(l.value.body.map(n=>[n.image,n]));return new Proxy(m,{get:(n,e)=>n[e]??n[e.replace(/^\/?images\/?/,"")]})})}const V={key:0},U={class:"cursor-help text-2xs italic"},j={class:"p-4 text-left text-xs"},A=u("br",null,null,-1),D={class:"italic underline"},O=C({__name:"ImageCredit",props:{image:{}},setup(l){const m=l,n=B(),e=p(()=>n.value[m.image]),f=p(()=>{var _;return((_=e.value)==null?void 0:_.link)&&new URL(e.value.link).host});return(_,E)=>{const g=w,y=I,h=N;return t(e)?(o(),c("small",V,[k(h,{class:"inline-block",popper:{placement:"bottom-end"}},{panel:d(()=>[u("div",j,[s(" Image "),t(e).author?(o(),c(i,{key:0},[s(" by "+a(t(e).author),1)],64)):r("",!0),t(e).source?(o(),c(i,{key:1},[s(" from "+a(t(e).source),1)],64)):r("",!0),t(e).license?(o(),c(i,{key:2},[s(" licensed under "+a(t(e).license),1)],64)):r("",!0),A,t(e).link?(o(),v(y,{key:3,to:t(e).link,rel:"external nofollow noopener noreferrer",target:"_blank"},{default:d(()=>[k(g,{name:"i-heroicons-link",class:"align-middle me-1"}),u("span",D,a(t(f)),1)]),_:1},8,["to"])):r("",!0)])]),default:d(()=>[u("span",U,[s(" Image: "+a(t(e).author)+" ",1),t(e).source&&!t(e).author?(o(),c(i,{key:0},[s(" from "+a(t(e).source),1)],64)):r("",!0),t(e).license&&!t(e).author?(o(),c(i,{key:1},[s(" ("+a(t(e).license)+") ",1)],64)):r("",!0)])]),_:1})])):r("",!0)}}});export{O as _};
